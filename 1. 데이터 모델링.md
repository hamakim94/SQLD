# 1. 데이터 모델링



## 데이터 모델링 유의할 점

1. 중복
2. 비유연성(inflexibility)
3. 비일관성(inconsitency)
   - 일관성 in DB
     - 트랜잭션이 데이터 무결성에 대한 제약 조건과 호환돠어야 함



#### 무결성?

- 완전한 수명 주기를 걸치며
- 데이터의 정확성과 일관성을 유지하고 보증하는 것



## 데이터베이스 스키마 구조 3단계

##### 스키마?

- 데이터베이스의 구조와 제약 조건에 관한 전반적인 명세
  - 개체의 특성(**속성, Attribute**)
  - 속성들의 집합으로 이루어진 **개체(Entity)**
  - 개체 사이에 존재하는 **관계(Relation)**
  - 유지할 **제약 조건**
- DB내에 어떤 구조로 데이터가 저장되는가!



##### 외부 스키마

- 서브 스키마, 사용자 뷰
- 실세계에 존재하는 데이터들을 어떤 형식, 구조, 배치 화면을 통해 사용자에게 보여줄까
- 사용자나 응용 프로그래머가 개인의 입장에서 필요한 DB의 논리적 구조를 정의

##### 개념 스키마

- 통합 관점의 스키마 구조 표현
- DB 전체, 하나

##### 내부 스키마

- 물리적인 저장장치 입장에서 DB가 저장되는 방법 기술



## 기본 엔터티 vs 중심 엔터티

### 기본 엔터티(키엔터티)

- 업무에 원래 존재하는 정보
- 다른 엔터티와의 관계에 의해 생성되지 않고 독립적으로 생성이 가능
- 자신은 타 엔터티의 부모의 역할을 하게 된다
- 다른 엔터티리로부터 주식별자를 상속받지 않고 자신의 고유한 주식별자를 가지게 된다

#### 중심 엔터티

- 기본 엔터티로부터 발생하고, 그 업무에 있어서 중심적인 역할
- 데이터의 양이 많음

#### 행위 엔터티

- 두 개 이상의 부모엔터티로터 발생, 자주 내용이 바뀌거나 데이터양 증가
- 분석 초기 단계에서는 잘 나타나지 않으며,상세 설계단계나 프로세스의 상관모델시 도출



## 속성(Attribute)

### 정의

- 업무에서 필요로 하는 인스턴스에서 관리하고자 하는, 의미상 더 이상 분리되지 않는 최소의 데이터 단위

### 관계

- 한 개의 엔티티 -> 두 개 이상의 인스턴스의 집합
- 한 개의 엔티티 -> 두 개 이상의 속성을 갖는다
- 한 개의 속성 -> 한 개의 속성값!

### 특성에 따른 분류

- 기본 속성
- 설계 속성
- 파생 속성(Derived Attribute)
  - 데이터를 조회할 때 빠른 성능을 할 수 있도록 하기 위해 원래 속성의 값을 계산하여 저장할 수 있도록 만든 속성



## 도메인

### 정의

- 각 속성(Attribute)이 가질 수 있는 값의 범위
- 엔터티 내에서 속성에 대한 데이터타입과 크기, 그리고 제약 사항 지ㅈ정



## 식별자(키)

### 종류

- 주식별자 / 보조식별자

  - 엔티티 내에서 대표성을 가지는가!

- 내부식별자 / 외부식별자

  - 앤티티 내에서 스스로 생성되었는가!

- 단일식별자 / 복합식별자

  - 단일 속성으로 식별이 되는가!

- 본질식별자 / 인조식별자

  - 원래 의미가 있던 식별자 속성을 대체해 일련번호와 같이 새롭게 만든 식별자인가!

  

### 주식별자의 특징

- 유일성
  - 주식별자에 의해 엔터티내에 모든 인스턴스들을 유일하게 구분함
- 최소성
  - 주식별자를 구성하는 속성의 수는 유일성을 만족하는 최소의 수가 되어야 해!
- 불변성
  - 한 번 특정 엔터티에 지정되면 그 식별자의 값은 변하지 않아야
- 존재성
  - 주식별자가 지정되면 반드시 데이터 값이 존재(NOT NULL)



### 식별자와 비식별자관계 비교



| 항목               | 식별자관계                                                   | 비식별자관계                                                 |
| ------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 목적               | 강한 연결관계 표현                                           | 약한 연결관계 표현                                           |
| 자식 주식별자 영향 | 자식 주식별자의 구성에 포함됨                                | 자식 일반 속성에 포함됨                                      |
| 표기법             | 실선 표현                                                    | 점선 표현                                                    |
| 연결 고려사항      | - 반드시 부모엔터티 종속<br />- 자식 주식별자구성에 부모 주식별자포함 필요<br />- 상속받은 주식별자속성을 타엔터티에 이전 필요 | - 약한 종속관계<br />- 자식 일반 속성에 포함됨<br />- 자식 주식별자구성에 부모 주식별자 부분 필요<br />상속받은 주식별자속성을 타 언터티에 자단 필요<br />- 부모쪽의 관계참여가 선택관계 |



